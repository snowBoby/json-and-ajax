# json-and-ajax
内容待完善
## JSON
JSON 是一个轻量级的数据格式，可以简化表示复杂数据结构的工作量。JSON 使用 JavaScript 语法的子集表示对象、数组、字符串、数值、布尔值和 null。即使 XML 也能表示同样复杂的数据结果，但JSON 没有那么烦琐，而且在 JavaScript 中使用更便利。

* **JSON.stringify()**：三个参数分别为要序列化的 JavaScript 对象、过滤器（可以是一个数组，也可以是一个函数）、缩进（数值或缩进字符串）。js对象->json字符串。其中过滤器为函数的时候，有俩个参数key，value，，函数返回的值就是相应键的值。不过要注意，如果函数返回了undefined，那么相应的属性会被忽略。
* **toJSON()**：满足自定义序列化的需求，在js对象里面定义了toJSON方法，那么JSON.stringify()序列化的值会变成toJSON函数的返回值。比如，可以让这个方法返回 undefined，此时如果包含它的对象嵌入在另一个对象中，会导致它的值变成 null，而如果它是顶级对象，结果就是 undefined。假设把一个对象传
入 JSON.stringify()，序列化该对象的顺序如下。
    (1) 如果存在 toJSON()方法而且能通过它取得有效的值，则调用该方法。否则，返回对象本身。
    (2) 如果提供了第二个参数，应用这个函数过滤器。传入函数过滤器的值是第(1)步返回的值。
    (3) 对第(2)步返回的每个值进行相应的序列化。
    (4) 如果提供了第三个参数，执行相应的格式化。

* **JSON.parse()**：俩个参数分别为json字符串和一个函数（函数有key和value俩个参数，并返回一个值。如果还原函数返回 undefined，则表示要从结果中删除相应的键；如果返回其他值，则将该值插入到结果中。）也就是线JSON.parse序列化之后，在还原函数。与JSON.stringify()不同，他是先过滤再序列化。

## AJAX
Ajax 技术的核心是 XMLHttpRequest 对象（简称 XHR），这种技术就是无须刷新页面即可从服务器取得数据，但不一定是 XML 数据。IE7+、Firefox、Opera、Chrome 和 Safari 都支持原生的 XHR 对象。创建ajax的步骤：

1. 先创建XMLHttpRequest 对象。
2. 通过open(请求方式，请求的url，是否异步发送请求)方式与服务器建立连接。
3. send()

## 跨域技术

* **图像Ping**：最常用于打点跟踪用户点击页面或动态广告曝光次数。图像 Ping 有两个主要的缺点，一是只能发送 GET 请求，二是无法访问服务器的响应文本。
* **JSONP**：通过动态创建<script>元素，为src 属性指定一个跨域 URL，并拼接callback回调函数，而返回的数据就是传入回调函数中的JSON数据。优点能够直接访问响应文本，缺点：局限于GET，加载其他域的代码，安全性不可靠。其次，要确定 JSONP 请求是否失败并不容易。虽然 HTML5 给<script>元素新增了一个 onerror事件处理程序，但目前还没有得到任何浏览器支持。为此，开发人员不得不使用计时器检测指定时间内是否接收到了响应。但就算这样也不能尽如人意，毕竟不是每个用户上网的速度和带宽都一样。
* **CORS**：跨源资源共享，支持CORS请求的浏览器一旦发现ajax请求跨域，会对请求做一些特殊处理。CORS 背后的基本思想，就是使用自定义的 HTTP 头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功，还是应该失败。参考链接：[CORS](https://juejin.im/entry/59085d5cac502e0063fd68e7)
